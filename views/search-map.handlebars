{{!-- Link in Map Page CSS --}}
<link href="/assets/style/search-map.css" rel="stylesheet" type="text/css">


{{!-- Title --}}
<h2 align="center">MAPPING</h2>

<br>

{{!-- Search Bar Components --}}
<div class="row">

  {{!-- Empty Div to move search bar to the right --}}
  <div class="col-md-3 col-xs-1"></div> 

    {{!-- Search Bar --}}
    <div class="col-md-6 col-xs-10">
      <div class="panel panel-default">
        <div class="panel-body">
          <center>

              {{!-- Select Service Branch --}}
              <b>Service Branch: </b>
              <select id="selectedBranch" name="branch" class="btn btn-default search-selection-dropdown">
                <option value="" selected>Any</option>
                <option value="Army">Army</option>
                <option value="Army (British)">Army (British)</option>
                <option value="Coast Guard">Coast Guard</option>
                <option value="Harbor Defense">Harbor Defense</option>
                <option value="Merchant Marines">Merchant Marines</option>
                <option value="Navy">Navy</option>
                <option value="Red Cross">Red Cross</option>
                <option value="US Marine Corps">US Marine Corps</option>
              </select>

              {{!-- Select Gender --}}
              <b>Sex: </b>
              <select id="selectedSex" name="sex" class="btn btn-default search-selection-dropdown">
                <option value="" selected>Any</option>
                <option value="M">Male</option>
                <option value="F">Female</option>
              </select>

              {{!-- Select Year --}}
              <b>Year: </b>
              <select id="selectedYear" name="year" class="btn btn-default search-selection-dropdown">
                <option value="" selected>All</option>
                <option value="1941">1941</option>
                <option value="1942">1942</option>
                <option value="1943">1943</option>
                <option value="1944">1944</option>
                <option value="1945">1945</option>
                <option value="1946">1946</option>
                <option value="1950">1950</option>
              </select>

              {{!-- Submit Button --}}
             <button id="submitMapSearch" type="button" class="btn btn-primary"><span class="glyphicon glyphicon-search"></span></button>

          </center>

            <center>
              <div id="mapSearchQuery"></div>
            </center>

        </div>
      </div>

    </div>

  </div>
</div>


<br>


{{!-- View Author's Letters on Map --}}
<div class="row">

  {{!-- Google Map Row --}}
  <div class="col-md-12">
    <center>
      {{!-- Custom Map Error Message --}}
      <div id="maperror"></div>

      {{!-- Google Map --}}
      <div id="map"></div>

      {{!-- Notes on which letter was selected --}}
      <br><b><div id="traversal"></div></b><br>

      {{!-- Google Map Legend --}}
      <div id="legend"><h3>Legend</h3></div>
    </center>
  </div>

  {{!-- Map Marker Controls Row --}}
  <div class="col-md-12" style="padding-bottom: 20px;">
    <center>
      <div id="marker_traveller">
        <button onclick="goto_first_marker()" class="btn btn-primary">First Letter</button>
        <button onclick="goto_final_marker()" class="btn btn-primary">Final Letter</button><br><br>
        <button onclick="goto_previous_marker()" class="btn btn-info">Previous Letter</button>
        <button onclick="goto_next_marker()" class="btn btn-info">Next Letter</button><br><br>
        <button onclick="toggle_legend_visibility()" class="btn btn-success">Toggle Legend View</button>
        <button onclick="reset_map_view()" class="btn btn-warning">Reset Map View</button>
      </div>
    </center>
  </div>

</div>



{{!-- Link in Functions that Build the Map and Legend --}}
<script type="text/javascript" src="/map/map_js/map-all-letters.js"></script>
<script type="text/javascript" src="/map/map_js/map-control-buttons.js"></script>

{{!-- Link in Functions that Build the Map using the Query Terms --}}
<script type="text/javascript" src="/map/map_js/map-search-letters.js"></script>

{{!-- Google Maps API Resources --}}
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB05-SFEl3YsAHMQr97OOu66W9qpQTL-s8&callback=initMap"></script>

{{!-- Link in Mapping Libraries --}}
<script type="text/javascript" src="/map/map_libraries/OverlappingMarkerSpiderfier.js"></script>
<script type="text/javascript" src="/map/map_libraries/markerwithlabel.js"></script>
<script type="text/javascript" src="/map/map_libraries/polyline_labels.js"></script>

{{!-- Link in JavaScript to collect all letter names from API --}}
<script src="/assets/javascripts/search-map.js"></script>